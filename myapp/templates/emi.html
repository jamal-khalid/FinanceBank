{% extends 'basic.html' %}


{% block title %}
  Intrest-Calculator
{% endblock %}


{% block body %}
  <div class="page-wrapper">
    <div class="container mt-3 border rounded-top bg-light">
      <h4 class="mt-2 text-primary">Intrest Rate Calculator</h4>
    </div>

    <div class="container border rounded-bottom bg-light">
      <form id="percentageForm">
        <div class="card-body">
          <div class="form-group col-md-6 mt-3">
            <label class="form-label" for="amount">Loan Amount</label>
            <input class="form-control" type="number" id="amount" step="0.01" placeholder="Enter Loan Amount" required />
          </div>
          <div class="form-group col-md-6 mt-3">
            <label class="form-label" for="intr">Interest Rate</label>
            <input class="form-control" type="number" id="intr" step="0.01" placeholder="Enter Interest Rate" required />
          </div>
          <div class="form-group col-md-6 mt-3">
            <label class="form-label">Plan</label>
            <select class="form-select" aria-label="Default select example" id="plan">
              <option selected value="365">Days(Yearly)</option>
              <option value="30">Monthly</option>
              <option value="7">Weekly</option>
              <option value="15">15 days</option>
            </select>
          </div>
          <div class="form-group col-md-6 mt-3">
            <label class="form-label" for="requirement">Requirement Day</label>
            <input class="form-control" type="number" id="requirement" step="0.01" placeholder="Days" required />
          </div>
          <div class="mt-3 row col-md-6 mb-4">
            <div class="col">
              <button class="btn btn-primary" type="button" onclick="calculatePercentage()">Find Result</button>
            </div>
            <div class="col">
              <input class="form-control" id="result" type="text" placeholder="0" />
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
{% endblock %}


{% block js %}
  <script>
    function calculatePercentage() {
      const amount = parseFloat(document.getElementById('amount').value)
      const interest = parseFloat(document.getElementById('intr').value)
      const plan = parseFloat(document.getElementById('plan').value)
      const n = parseFloat(document.getElementById('requirement').value)
    
      if (!isNaN(amount) && !isNaN(interest) && !isNaN(plan) && !isNaN(n)) {
        if (plan==7){
          var dw = ((amount*interest/100)/30)*7
        }else if(plan==30){
          var dw=amount*interest/100
        }else if(plan==15){
          var dw = ((amount*interest/100)/30)*15
        }else{
          var dw=(amount * interest / 100)/30
        }
      
        const ti=dw*n
        const result=(ti+amount)/n
        document.getElementById('result').value = result.toFixed(2)
      } else {
        document.getElementById('result').value = 'Result: Please enter valid values for amount and interest.'
      }
    }
  </script>
{% endblock %}
